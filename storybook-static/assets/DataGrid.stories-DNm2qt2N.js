import{r as c}from"./index-ClcD9ViR.js";import"./_commonjsHelpers-Cpj98o6Y.js";var R={exports:{}},v={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q=c,N=Symbol.for("react.element"),_=Symbol.for("react.fragment"),x=Object.prototype.hasOwnProperty,S=q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j={key:!0,ref:!0,__self:!0,__source:!0};function h(r,e,i){var t,n={},a=null,o=null;i!==void 0&&(a=""+i),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(t in e)x.call(e,t)&&!j.hasOwnProperty(t)&&(n[t]=e[t]);if(r&&r.defaultProps)for(t in e=r.defaultProps,e)n[t]===void 0&&(n[t]=e[t]);return{$$typeof:N,type:r,key:a,ref:o,props:n,_owner:S.current}}v.Fragment=_;v.jsx=h;v.jsxs=h;R.exports=v;var s=R.exports;function T({columns:r,sort:e,setSort:i}){function t(n){i(a=>{const o=a.find(u=>u.columnId===n);return o?o.direction==="asc"?a.map(u=>u.columnId===n?{...u,direction:"desc"}:u):a.filter(u=>u.columnId!==n):[...a,{columnId:n,direction:"asc"}]})}return s.jsx("div",{role:"row",style:{display:"flex"},children:r.map(n=>{var a;return s.jsx("div",{role:"columnheader","aria-sort":((a=e.find(o=>o.columnId===n.id))==null?void 0:a.direction)??"none",style:{width:n.width,cursor:"pointer"},onClick:()=>n.sortable&&t(n.id),children:n.title},n.id)})})}T.__docgenInfo={description:"",methods:[],displayName:"HeaderRow",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  title: string;
  width: number;
  pinned?: 'left' | 'right';
  sortable?: boolean;
  visible?: boolean;
  render: (row: T) => React.ReactNode;
  editor?: (value: unknown, row: T, onChange: (v: unknown) => void) => React.ReactNode;
  validate?: (value: unknown, row: T) => Promise<void>;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"width",value:{name:"number",required:!0}},{key:"pinned",value:{name:"union",raw:"'left' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"}],required:!1}},{key:"sortable",value:{name:"boolean",required:!1}},{key:"visible",value:{name:"boolean",required:!1}},{key:"render",value:{name:"signature",type:"function",raw:"(row: T) => React.ReactNode",signature:{arguments:[{type:{name:"T"},name:"row"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}},required:!0}},{key:"editor",value:{name:"signature",type:"function",raw:"(value: unknown, row: T, onChange: (v: unknown) => void) => React.ReactNode",signature:{arguments:[{type:{name:"unknown"},name:"value"},{type:{name:"T"},name:"row"},{type:{name:"signature",type:"function",raw:"(v: unknown) => void",signature:{arguments:[{type:{name:"unknown"},name:"v"}],return:{name:"void"}}},name:"onChange"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}},required:!1}},{key:"validate",value:{name:"signature",type:"function",raw:"(value: unknown, row: T) => Promise<void>",signature:{arguments:[{type:{name:"unknown"},name:"value"},{type:{name:"T"},name:"row"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}},required:!1}}]}}],raw:"GridColumn<T>[]"},description:""},sort:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ columnId: string; direction: SortDirection; }",signature:{properties:[{key:"columnId",value:{name:"string",required:!0}},{key:"direction",value:{name:"union",raw:"'asc' | 'desc'",elements:[{name:"literal",value:"'asc'"},{name:"literal",value:"'desc'"}],required:!0}}]}}],raw:"GridSort[]"},description:""},setSort:{required:!0,tsType:{name:"ReactDispatch",raw:"React.Dispatch<React.SetStateAction<GridSort[]>>",elements:[{name:"ReactSetStateAction",raw:"React.SetStateAction<GridSort[]>",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:"{ columnId: string; direction: SortDirection; }",signature:{properties:[{key:"columnId",value:{name:"string",required:!0}},{key:"direction",value:{name:"union",raw:"'asc' | 'desc'",elements:[{name:"literal",value:"'asc'"},{name:"literal",value:"'desc'"}],required:!0}}]}}],raw:"GridSort[]"}]}]},description:""}}};function I(r,e,i,t){return c.useMemo(()=>{const n=Math.floor(t/e),a=Math.ceil(i/e),o=Math.max(0,n-5),u=Math.min(r,n+a+5);return{from:o,to:u,offsetTop:o*e,totalHeight:r*e}},[r,e,i,t])}function P(r){let e=null;return(...i)=>{e||(e=requestAnimationFrame(()=>{e=null,r(...i)}))}}function b({columns:r,rows:e,height:i,rowHeight:t}){const n=c.useRef(null),[a,o]=c.useState(0),u=P(()=>{n.current&&o(n.current.scrollTop)}),l=I(e.length,t,i,a);return s.jsx("div",{ref:n,onScroll:u,style:{overflow:"auto",height:i},children:s.jsx("div",{style:{height:l.totalHeight},children:s.jsx("div",{style:{transform:`translateY(${l.offsetTop}px)`},children:e.slice(l.from,l.to).map(m=>s.jsx("div",{role:"row",style:{display:"flex",height:t},children:r.map(d=>s.jsx("div",{role:"gridcell",style:{width:d.width},children:d.render(m.data)},d.id))},m.id))})})})}b.__docgenInfo={description:"",methods:[],displayName:"Body",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  title: string;
  width: number;
  pinned?: 'left' | 'right';
  sortable?: boolean;
  visible?: boolean;
  render: (row: T) => React.ReactNode;
  editor?: (value: unknown, row: T, onChange: (v: unknown) => void) => React.ReactNode;
  validate?: (value: unknown, row: T) => Promise<void>;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"width",value:{name:"number",required:!0}},{key:"pinned",value:{name:"union",raw:"'left' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"}],required:!1}},{key:"sortable",value:{name:"boolean",required:!1}},{key:"visible",value:{name:"boolean",required:!1}},{key:"render",value:{name:"signature",type:"function",raw:"(row: T) => React.ReactNode",signature:{arguments:[{type:{name:"T"},name:"row"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}},required:!0}},{key:"editor",value:{name:"signature",type:"function",raw:"(value: unknown, row: T, onChange: (v: unknown) => void) => React.ReactNode",signature:{arguments:[{type:{name:"unknown"},name:"value"},{type:{name:"T"},name:"row"},{type:{name:"signature",type:"function",raw:"(v: unknown) => void",signature:{arguments:[{type:{name:"unknown"},name:"v"}],return:{name:"void"}}},name:"onChange"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}},required:!1}},{key:"validate",value:{name:"signature",type:"function",raw:"(value: unknown, row: T) => Promise<void>",signature:{arguments:[{type:{name:"unknown"},name:"value"},{type:{name:"T"},name:"row"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}},required:!1}}]}}],raw:"GridColumn<T>[]"},description:""},rows:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ id: string; data: T; }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"data",value:{name:"T",required:!0}}]}}],raw:"GridRow<T>[]"},description:""},height:{required:!0,tsType:{name:"number"},description:""},rowHeight:{required:!0,tsType:{name:"number"},description:""}}};function y({columns:r,rows:e,height:i,rowHeight:t}){const[n,a]=c.useState([]),o=c.useMemo(()=>n.length?[...e].sort((u,l)=>{for(const m of n){const d=u.data[m.columnId],w=l.data[m.columnId];if(d!==w)return m.direction==="asc"?d>w?1:-1:d<w?1:-1}return 0}):e,[e,n]);return s.jsxs("div",{role:"grid",style:{height:i},children:[s.jsx(T,{columns:r,sort:n,setSort:a}),s.jsx(b,{columns:r,rows:o,height:i,rowHeight:t})]})}y.__docgenInfo={description:"",methods:[],displayName:"DataGrid",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  title: string;
  width: number;
  pinned?: 'left' | 'right';
  sortable?: boolean;
  visible?: boolean;
  render: (row: T) => React.ReactNode;
  editor?: (value: unknown, row: T, onChange: (v: unknown) => void) => React.ReactNode;
  validate?: (value: unknown, row: T) => Promise<void>;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"width",value:{name:"number",required:!0}},{key:"pinned",value:{name:"union",raw:"'left' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"}],required:!1}},{key:"sortable",value:{name:"boolean",required:!1}},{key:"visible",value:{name:"boolean",required:!1}},{key:"render",value:{name:"signature",type:"function",raw:"(row: T) => React.ReactNode",signature:{arguments:[{type:{name:"T"},name:"row"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}},required:!0}},{key:"editor",value:{name:"signature",type:"function",raw:"(value: unknown, row: T, onChange: (v: unknown) => void) => React.ReactNode",signature:{arguments:[{type:{name:"unknown"},name:"value"},{type:{name:"T"},name:"row"},{type:{name:"signature",type:"function",raw:"(v: unknown) => void",signature:{arguments:[{type:{name:"unknown"},name:"v"}],return:{name:"void"}}},name:"onChange"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}},required:!1}},{key:"validate",value:{name:"signature",type:"function",raw:"(value: unknown, row: T) => Promise<void>",signature:{arguments:[{type:{name:"unknown"},name:"value"},{type:{name:"T"},name:"row"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}},required:!1}}]}}],raw:"GridColumn<T>[]"},description:""},rows:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ id: string; data: T; }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"data",value:{name:"T",required:!0}}]}}],raw:"GridRow<T>[]"},description:""},height:{required:!0,tsType:{name:"number"},description:""},rowHeight:{required:!0,tsType:{name:"number"},description:""}}};const E={title:"AdvancedDataGrid",component:y},A=[{id:"id",title:"ID",width:80,sortable:!0,render:r=>r.id},{id:"name",title:"Name",width:160,sortable:!0,render:r=>r.name}],G=Array.from({length:5e4}).map((r,e)=>({id:String(e),data:{id:e,name:"Row "+e}})),p=()=>s.jsx(y,{columns:A,rows:G,height:400,rowHeight:32});p.__docgenInfo={description:"",methods:[],displayName:"FiftyThousandRows"};var g,f,k;p.parameters={...p.parameters,docs:{...(g=p.parameters)==null?void 0:g.docs,source:{originalSource:"() => <DataGrid columns={columns} rows={rows} height={400} rowHeight={32} />",...(k=(f=p.parameters)==null?void 0:f.docs)==null?void 0:k.source}}};const O=["FiftyThousandRows"];export{p as FiftyThousandRows,O as __namedExportsOrder,E as default};
